[pytest]
# Disable Langfuse monitoring for tests
env = 
    LANGFUSE_PUBLIC_KEY=
    LANGFUSE_SECRET_KEY=
    LANGFUSE_HOST=

filterwarnings =
    ignore:distutils Version classes are deprecated:DeprecationWarning
    ignore:Downcasting object dtype arrays on .fillna.*:FutureWarning
    ignore:A value is trying to be set on a copy of a DataFrame.*:FutureWarning
    ignore::UserWarning
    ignore::DeprecationWarning 

asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Add test isolation and resource limits
addopts = --strict-markers -p no:cacheprovider

# Add plugin path
pythonpath = .

# Test markers
markers =
    requires_api: marks tests that require the API server to be running
    integration: marks tests that require real services (Qdrant, etc.)
    performance: marks performance benchmark tests
    memory: marks memory efficiency and optimization tests
    requires_qdrant: marks tests that require Qdrant vector database
    requires_external_services: marks tests that require external APIs or services