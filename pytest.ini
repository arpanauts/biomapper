[pytest]
# Disable Langfuse monitoring for tests
env = 
    LANGFUSE_PUBLIC_KEY=
    LANGFUSE_SECRET_KEY=
    LANGFUSE_HOST=

filterwarnings =
    ignore:distutils Version classes are deprecated:DeprecationWarning
    ignore:Downcasting object dtype arrays on .fillna.*:FutureWarning
    ignore:A value is trying to be set on a copy of a DataFrame.*:FutureWarning
    ignore::UserWarning
    ignore::DeprecationWarning 

asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Add test isolation and resource limits
addopts = --strict-markers -p no:cacheprovider --ignore=tests_backup_20250817_180652 --ignore=tests/services/test_persistence_service.py --ignore=tests/services/test_persistent_execution_engine.py --ignore=tests/integration/test_persistence_integration.py --ignore=tests/performance/ -m "not requires_api"

# Add plugin path  
pythonpath = . dev src

# Test markers
markers =
    requires_api: marks tests that require the API server to be running
    integration: marks tests that require real services (Qdrant, etc.)
    performance: marks performance benchmark tests
    memory: marks memory efficiency and optimization tests
    requires_qdrant: marks tests that require Qdrant vector database
    requires_external_services: marks tests that require external APIs or services
    requires_network: marks tests that require network access
    slow: marks tests that take more than 30 seconds to run