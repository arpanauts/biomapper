# Biomapper Environment Configuration Template
# Copy this file to .env and configure for your environment

# ==========================================
# CORE DIRECTORIES
# ==========================================
# Data directory for input files and reference data
BIOMAPPER_DATA_DIR=/home/ubuntu/biomapper/data

# Cache directory for temporary files and API cache
BIOMAPPER_CACHE_DIR=/tmp/biomapper/cache

# Output directory for results
BIOMAPPER_OUTPUT_DIR=/tmp/biomapper/output

# Configuration directory (YAML strategies)
BIOMAPPER_CONFIG_DIR=configs

# Log directory
BIOMAPPER_LOG_DIR=/tmp/biomapper/logs

# ==========================================
# EXTERNAL SERVICES
# ==========================================
# Qdrant vector database (for semantic matching)
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=metabolites

# Chemical Translation Service API
CTS_API_BASE=https://cts.fiehnlab.ucdavis.edu/rest

# UniProt REST API
UNIPROT_API_BASE=https://rest.uniprot.org

# UMLS API Key
#UMLS_API_KEY=...

# ==========================================
# GOOGLE DRIVE SYNC (Optional)
# ==========================================
# Path to Google service account credentials JSON file
# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_APPLICATION_CREDENTIALS=/home/ubuntu/biomapper/google-credentials.json

# Google Drive folder ID for output sync
# Get from folder URL: https://drive.google.com/drive/folders/[FOLDER_ID]
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here

# Enable/disable Google Drive sync
ENABLE_GOOGLE_DRIVE_SYNC=false

# ==========================================
# PERFORMANCE SETTINGS
# ==========================================
# Maximum concurrent API requests
MAX_CONCURRENT_REQUESTS=10

# Request timeout in seconds
REQUEST_TIMEOUT=30

# Cache time-to-live in hours
CACHE_TTL_HOURS=24

# Chunk size for large dataset processing
CHUNK_SIZE=1000

# ==========================================
# FALLBACK AND VALIDATION
# ==========================================
# Enable fallback modes for resilience
ENABLE_VECTOR_FALLBACK=true
ENABLE_API_FALLBACKS=true
ENABLE_FILE_PATH_FALLBACKS=true

# Validation settings
VALIDATE_FILE_PATHS=true
VALIDATE_PARAMETERS=true
STRICT_VALIDATION=false

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
# SQLite database for job persistence
DATABASE_URL=sqlite:///./biomapper.db

# ==========================================
# API SERVER CONFIGURATION
# ==========================================
# FastAPI server settings
API_HOST=0.0.0.0
API_PORT=8001
API_RELOAD=true
API_LOG_LEVEL=info

# CORS settings (for web clients)
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# ==========================================
# DEVELOPMENT SETTINGS
# ==========================================
# Debug mode (verbose logging)
DEBUG=false

# Test mode (uses test data)
TEST_MODE=false

# Profile mode (performance profiling)
PROFILE_MODE=false

# ==========================================
# REFERENCE DATA PATHS
# ==========================================
# HMDB metabolites database (large file, use DVC)
HMDB_METABOLITES_XML=/home/ubuntu/biomapper/data/hmdb_metabolites.xml

# Nightingale NMR reference
NIGHTINGALE_REFERENCE=/home/ubuntu/biomapper/data/nightingale_biomarkers.tsv

# SPOKE database exports
SPOKE_COMPOUNDS=/home/ubuntu/biomapper/data/SPOKE_compounds.tsv
SPOKE_PROTEINS=/home/ubuntu/biomapper/data/SPOKE_proteins.tsv

# KG2c database exports  
KG2C_NODES=/home/ubuntu/biomapper/data/kg2c_nodes.tsv
KG2C_EDGES=/home/ubuntu/biomapper/data/kg2c_edges.tsv

# ==========================================
# OPTIONAL: LLM CONFIGURATION
# ==========================================
# For semantic matching features
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...
# HUGGINGFACE_API_KEY=hf_...

# Google Gemini API (for advanced semantic matching)
# Get from: https://makersuite.google.com/app/apikey
# GEMINI_API_KEY=your_gemini_api_key_here

# Embedding model for vector similarity matching (FastEmbed)
# Used with Qdrant vector database for metabolite matching
EMBEDDING_MODEL=BAAI/bge-small-en-v1.5

# ==========================================
# OPTIONAL: MONITORING
# ==========================================
# Sentry error tracking
# SENTRY_DSN=https://...@sentry.io/...

# OpenTelemetry tracing
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
# OTEL_SERVICE_NAME=biomapper

# ==========================================
# NOTES
# ==========================================
# 1. Required for basic operation:
#    - BIOMAPPER_DATA_DIR
#    - BIOMAPPER_CONFIG_DIR
#    - DATABASE_URL
#
# 2. Required for vector similarity matching:
#    - QDRANT_HOST, QDRANT_PORT
#    - Qdrant must be running: docker run -p 6333:6333 qdrant/qdrant
#
# 3. Required for Google Drive sync:
#    - GOOGLE_APPLICATION_CREDENTIALS (service account JSON)
#    - GOOGLE_DRIVE_FOLDER_ID
#    - ENABLE_GOOGLE_DRIVE_SYNC=true
#
# 4. Large data files (>100MB) should be managed with DVC:
#    - dvc add data/hmdb_metabolites.xml
#    - dvc push
#
# 5. For production deployment:
#    - Set DEBUG=false
#    - Configure proper DATABASE_URL (PostgreSQL recommended)
#    - Set up monitoring (Sentry, OpenTelemetry)
#    - Use environment-specific values for all paths